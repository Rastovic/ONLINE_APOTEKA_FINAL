



create table Role(
role_id int primary key not null

);

create table Address(
address_id int primary key not null,
town varchar(20) not null,
country varchar(20) not null,
zip_code int not null,
street_name varchar(60) not null,
street_number varchar(20) not null



);
create table Supplier(
supplier_id int primary key not null,
supplier_name varchar(50) not null ,
address_id int not null,
constraint Sp_Ad foreign key(address_id)
references Address(address_id)
);

create table Product(
product_id int primary key not null,
product_name varchar(50) not null,
product_description varchar(50) not null,
image_url varchar(50) not null,
price float not null,
expiration_date Date not null,
availability tinyint not null,
prescription tinyint not null,
supplier_id int not null,
constraint Pr_Sp foreign key(supplier_id)
references Supplier(supplier_id)
);




create table Pharmacy(
pharmacy_id int primary key not null,
pharmacy_name varchar(50) not null,
working_hours varchar(10) not null,
user_name varchar(30) not null,
user_password varchar(30) not null,
product_id int not null,
role_id int not null,
address_id int not null,

constraint Ph_Pr foreign key (product_id)
references Product(product_id),
constraint Ph_Ro foreign key (role_id)
references Role(role_id),
constraint Ph_Ad foreign key (address_id)
references Address(address_id) 
);

create table User(
user_id int primary key not null,
first_name varchar(30) not null,
last_name varchar(30) not null,
phone_number int not null,
e_mail varchar(50) not null,
birthDate Date not null,
user_name varchar(40) not null,
user_password varchar(30) not null,
address_id int not null,
role_id int not null,
constraint Us_Ad foreign key(address_id)
references Address(address_id),
constraint Us_Ro foreign key(role_id)
references Role(role_id)

);


create table Order(
order_id int primary key not null,
quantity int not null,
order_date Date not null,
total_price float not null,
payment tinyint not null,
address_id int not null,
user_id int not null,
pharmacy_id int not null,
product_id int not null,

constraint Or_Ad foreign key(address_id)
references Address(address_id),
constraint Or_Pr foreign key (product_id)
references Product(product_id),
constraint Or_Ph foreign key (pharmacy_id)
references Pharmacy(pharmacy_id),
constraint Or_Us foreign key (user_id)
references User(user_id)



);